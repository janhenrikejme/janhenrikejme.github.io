<html>
   <head>
      <script type="text/javascript" src = "libs/require.js"></script>
      <script type="text/javascript" src = "libs/require_config.js"></script>
   </head>

   <body>
     <div id="main">main</main>
          <script>
	        require(['jquery', 'canvas_api'], function($, canvasApi) {
              var buttonIcon = "<svg style=\"width: 50px; height: 50px;\"><circle cx=\"25\" cy=\"25\" r=\"20\" stroke=\"green\" stroke-width=\"4\" fill=\"yellow\" /><svg>";

              canvasApi.hideBottomBar();

              canvasApi.addButton("Hax", "haxBtn", buttonIcon, function() {           
                canvasApi.rest.get("/api/v1/users/self/profile", function(response) {
                  canvasApi.showPanel("Hey! " + response.name, "Das content")
                });
              });

            

/*            iframe_communicator_client.invoke("on", { event: "mousemove", selector: ":root" }, function(response) {
                   //console.log(response);
            });*/


/*            iframe_communicator_client.invoke("addButton", { 
               title: "Hax",
               icon: 
            }, function(response) {
                  console.log("Clickkkkkk!!!");
                  iframe_communicator_client.invoke("rest.get", { url: "/api/v1/users/self/profile"}, function(response) {
                     console.log(response);
                     iframe_communicator_client.invoke("showPanel", { title: "Hey! " + response.name });
                  });
                   
            });*/

          });
	      </script>


   </body>
</html>